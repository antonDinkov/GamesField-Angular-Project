import{a as F}from"./chunk-ETAA3KFV.js";import{a as h,c as S,d as _,f as x,h as M,j as P,k as w,m as O}from"./chunk-5KMBVLPF.js";import{h as b}from"./chunk-FVPBVVEB.js";import{a as y}from"./chunk-TANXK24A.js";import{Da as u,Sa as c,T as l,Ta as s,Xa as v,Ya as i,Za as n,_a as d,db as C,fb as f,gb as g,hb as a,ib as p,sa as r}from"./chunk-JLINGDUW.js";function E(t,m){if(t&1&&(i(0,"p",5),a(1),n()),t&2){let o=f();r(),p(o.formService.getEmailErrorMessage(o.form))}}function N(t,m){if(t&1&&(i(0,"p",5),a(1),n()),t&2){let o=f();r(),p(o.formService.getPasswordErrorMessage(o.form,!0))}}var L=class t{formService=l(F);authService=l(y);router=l(b);form;constructor(){this.form=this.formService.createLoginForm()}onSubmit(){if(!this.formService.isFormInvalid(this.form)){let{email:m,password:o}=this.formService.getLoginFormValue(this.form);this.authService.login(m,o).subscribe({next:e=>{this.router.navigate(["/"])},error:e=>{console.error("Login failed:",e),this.formService.markFormTouched(this.form)}})}}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=u({type:t,selectors:[["app-login"]],decls:15,vars:7,consts:[["id","rightside"],[1,"login-card"],[1,"login-form",3,"ngSubmit","formGroup"],["for","email"],["type","email","id","email","formControlName","email","required",""],[1,"error"],["for","password"],["type","password","id","password","formControlName","password","required",""],["type","submit"]],template:function(o,e){o&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Login Form"),n(),i(4,"form",2),C("ngSubmit",function(){return e.onSubmit()}),i(5,"label",3),a(6,"Email"),n(),d(7,"input",4),c(8,E,2,1,"p",5),i(9,"label",6),a(10,"Password"),n(),d(11,"input",7),c(12,N,2,1,"p",5),i(13,"button",8),a(14,"Login"),n()()()()),o&2&&(r(4),v("formGroup",e.form),r(3),g("input-error",e.formService.isControlInvalid(e.form,"email")),r(),s(e.formService.isControlInvalid(e.form,"email")?8:-1),r(3),g("input-error",e.formService.isControlInvalid(e.form,"password")),r(),s(e.formService.isControlInvalid(e.form,"password")?12:-1))},dependencies:[O,x,h,S,_,w,M,P],styles:["#rightside[_ngcontent-%COMP%]{margin-top:3%;overflow-y:auto;overflow-x:hidden;height:100%;display:flex;justify-content:center;align-items:flex-start}.login-card[_ngcontent-%COMP%]{background-color:#252525;border-radius:8px;padding:2rem;width:100%;max-width:400px;box-shadow:0 0 10px #00ffcc1a;display:flex;flex-direction:column}.login-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#0fc;margin-bottom:2rem}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.3rem;font-weight:700;color:#0fc}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.7rem;border:none;border-radius:4px;background-color:#1e1e1e;color:#fff;outline:none;font-size:1rem;transition:background-color .2s ease}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#2a2a2a}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:.75rem;background-color:#0fc;color:#000;font-weight:700;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s ease}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#00e6b8}"]})};export{L as Login};
