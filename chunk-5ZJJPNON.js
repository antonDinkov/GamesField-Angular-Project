import{a as T}from"./chunk-IIUA5ZHN.js";import{a as w,c as E,d as O,f as R,h as I,i as N,j as y,k,m as F}from"./chunk-MAM4UF2U.js";import{a as M}from"./chunk-KCIY4SWP.js";import"./chunk-WJ5ZAXFD.js";import{$ as d,C as r,E as S,F as x,N as m,O as l,S as _,T as i,U as n,V as c,Z as b,aa as f,ba as a,ca as p,oa as h,s as g,ya as P}from"./chunk-NQD7YVRL.js";function q(o,s){if(o&1&&(i(0,"p",5),a(1),n()),o&2){let t=d();r(),p(t.formService.getFirstnameErrorMessage(t.form))}}function D(o,s){if(o&1&&(i(0,"p",5),a(1),n()),o&2){let t=d();r(),p(t.formService.getLastnameErrorMessage(t.form))}}function L(o,s){if(o&1&&(i(0,"p",5),a(1),n()),o&2){let t=d();r(),p(t.formService.getEmailErrorMessage(t.form))}}function V(o,s){if(o&1&&(i(0,"p",5),a(1),n()),o&2){let t=d();r(),p(t.formService.getPasswordErrorMessage(t.form,!0))}}function j(o,s){if(o&1&&(i(0,"p",5),a(1),n()),o&2){let t=d();r(),p(t.formService.getRePasswordErrorMessage(t.form))}}var G=class o{constructor(s){this.location=s;this.form=this.formService.createRegisterForm()}formService=g(T);authService=g(M);router=g(P);form;onSubmit(){if(!this.formService.isFormInvalid(this.form)){let{firstname:s,lastname:t,email:e,password:u,repass:v}=this.formService.getRegisterFormValue(this.form);this.authService.register(s,t,e,u,v).subscribe({next:C=>{console.log("Registered user:",C),this.router.navigate(["/"])},error:C=>{console.error("Registration failed:",C),this.formService.markFormTouched(this.form)}})}}goBack(){this.location.back()}static \u0275fac=function(t){return new(t||o)(S(h))};static \u0275cmp=x({type:o,selectors:[["app-register"]],decls:30,vars:17,consts:[["id","rightside"],[1,"register-card"],[1,"register-form",3,"ngSubmit","formGroup"],["for","first-name"],["type","text","id","first-name","formControlName","firstname","required",""],[1,"error"],["for","last-name"],["type","text","id","last-name","formControlName","lastname","required",""],["for","email"],["type","email","id","email","formControlName","email","required",""],["formGroupName","passwords",1,"form"],["for","password"],["type","password","id","password","formControlName","password","required",""],["for","repass"],["type","password","id","repass","formControlName","repass","required",""],["type","submit",3,"disabled"],[1,"back-button",3,"click"]],template:function(t,e){t&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),a(3,"REGISTER FORM"),n(),i(4,"form",2),b("ngSubmit",function(){return e.onSubmit()}),i(5,"label",3),a(6,"First Name"),n(),c(7,"input",4),m(8,q,2,1,"p",5),i(9,"label",6),a(10,"Last Name"),n(),c(11,"input",7),m(12,D,2,1,"p",5),i(13,"label",8),a(14,"Email"),n(),c(15,"input",9),m(16,L,2,1,"p",5),i(17,"div",10)(18,"label",11),a(19,"Password"),n(),c(20,"input",12),m(21,V,2,1,"p",5),i(22,"label",13),a(23,"Repeat Password"),n(),c(24,"input",14),m(25,j,2,1,"p",5),n(),i(26,"button",15),a(27,"Register"),n(),i(28,"button",16),b("click",function(v){return e.goBack(),v.preventDefault()}),a(29,"Cancel"),n()()()()),t&2&&(r(4),_("formGroup",e.form),r(3),f("input-error",e.formService.isControlInvalid(e.form,"firstname")),r(),l(e.formService.isControlInvalid(e.form,"firstname")?8:-1),r(3),f("input-error",e.formService.isControlInvalid(e.form,"lastname")),r(),l(e.formService.isControlInvalid(e.form,"lastname")?12:-1),r(3),f("input-error",e.formService.isControlInvalid(e.form,"email")),r(),l(e.formService.isControlInvalid(e.form,"email")?16:-1),r(4),f("input-error",e.formService.isNestedControlInvalid(e.form,"passwords","password")),r(),l(e.formService.isNestedControlInvalid(e.form,"passwords","password")?21:-1),r(3),f("input-error",e.formService.isNestedControlInvalid(e.form,"passwords","repass")),r(),l(e.formService.isNestedControlInvalid(e.form,"passwords","repass")?25:-1),r(),_("disabled",e.formService.isFormInvalid(e.form)))},dependencies:[F,R,w,E,O,k,I,y,N],styles:["#rightside[_ngcontent-%COMP%]{margin-top:3%;overflow-y:auto;overflow-x:hidden;height:100%;display:flex;justify-content:center;align-items:flex-start}.register-card[_ngcontent-%COMP%]{background-color:#252525;border-radius:8px;padding:2rem;width:100%;max-width:400px;box-shadow:0 0 10px #00ffcc1a;display:flex;flex-direction:column}.register-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#0fc;margin-bottom:2rem}.register-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.register-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.3rem;font-weight:700;color:#0fc}.register-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.7rem;border:none;border-radius:4px;background-color:#1e1e1e;color:#fff;outline:none;font-size:1rem;transition:background-color .2s ease}.register-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#2a2a2a}.register-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:.75rem;background-color:#0fc;color:#000;font-weight:700;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s ease}.back-button[_ngcontent-%COMP%]{color:red!important}.register-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#00e6b8}.register-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#6c757d;cursor:not-allowed;transform:none}.input-error[_ngcontent-%COMP%]{border-left-color:red!important;border-color:red}.error[_ngcontent-%COMP%]{text-align:left;border-radius:.5em;color:red;padding-top:0;font-weight:700;font-size:.875rem;margin-top:.25rem}.text-center[_ngcontent-%COMP%]{text-align:center;margin:0}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]})};export{G as Register};
