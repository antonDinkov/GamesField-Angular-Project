import{a as U}from"./chunk-UMFR4ZKG.js";import{a as w}from"./chunk-TLTMAPHV.js";import{h as E}from"./chunk-N3U7IV6T.js";import{Ca as b,Db as k,Ra as s,S as m,Sa as d,Ta as P,Ua as v,Va as y,Wa as p,X as x,Xa as i,Y as C,Ya as t,Za as f,bb as M,cb as O,eb as c,gb as r,hb as u,ib as g,jb as S,lb as _,sa as o,wa as h}from"./chunk-JXDQDIJI.js";var L=n=>["/profile",n,"edit"],N=n=>["/profile",n,"delete"];function j(n,a){if(n&1&&(i(0,"li"),r(1),t()),n&2){let e=a.$implicit;o(),u(e)}}function T(n,a){if(n&1&&(i(0,"ul"),v(1,j,2,1,"li",null,P),t()),n&2){let e=c(2);o(),y(e.myGames)}}function B(n,a){n&1&&(i(0,"p"),r(1,"No liked games"),t())}function F(n,a){if(n&1){let e=M();i(0,"div",1)(1,"div",2),f(2,"img",3),i(3,"h1",4),r(4),t(),i(5,"p",5),r(6),t()(),i(7,"div",6)(8,"p")(9,"strong"),r(10,"First Name:"),t(),r(11),t(),i(12,"p")(13,"strong"),r(14,"Last Name:"),t(),r(15),t(),i(16,"p")(17,"strong"),r(18,"Last played game:"),t(),r(19," SquidGame.io"),t()(),i(20,"div",7)(21,"h2"),r(22,"My games"),t(),s(23,T,3,0,"ul")(24,B,2,0,"p"),t(),i(25,"div",8)(26,"label",9),r(27,"Change profile picture:"),t(),f(28,"input",10),t(),i(29,"div",11)(30,"a",12),O("click",function(){x(e);let G=c();return C(G.goBack())}),r(31,"\u2B05 Back"),t(),i(32,"a",13),r(33,"Edit"),t(),i(34,"a",13),r(35,"Delete"),t()()()}if(n&2){let e=c();o(4),S("",e.currentUser.firstName," ",e.currentUser.lastName),o(2),u(e.currentUser.email),o(5),g(" ",e.currentUser.firstName),o(4),g(" ",e.currentUser.lastName),o(8),d(e.myGames.length>0?23:24),o(9),p("routerLink",_(8,L,e.currentUser._id)),o(2),p("routerLink",_(10,N,e.currentUser._id))}}function D(n,a){n&1&&(i(0,"p"),r(1,"Loading..."),t())}var I=class n{constructor(a){this.location=a}currentUser;getGameService=m(w);authService=m(U);myGames=[];ngOnInit(){this.authService.checkSession().subscribe(a=>{if(this.currentUser=a,this.currentUser&&this.currentUser?.myGames.length>0)for(let e of this.currentUser.myGames)this.getGameService.getGameById(e).subscribe(l=>{this.myGames.push(l.post.name)})})}goBack(){this.location.back()}static \u0275fac=function(e){return new(e||n)(h(k))};static \u0275cmp=b({type:n,selectors:[["app-profile"]],decls:3,vars:1,consts:[["id","rightside"],[1,"profile-card"],[1,"profile-header"],["src","assets/uploads/profile.jpg","alt","User Profile Picture",1,"profile-picture"],[1,"username"],[1,"email"],[1,"profile-info"],[1,"user-games"],[1,"upload-section"],["for","upload"],["type","file","id","upload","accept","image/*"],[1,"buttons"],["href","javascript:void(0)",1,"back-button",3,"click"],[3,"routerLink"]],template:function(e,l){e&1&&(i(0,"div",0),s(1,F,36,12,"div",1)(2,D,2,0,"p"),t()),e&2&&(o(),d(l.currentUser?1:2))},dependencies:[E],styles:['#rightside[_ngcontent-%COMP%]{margin-top:3%;overflow-y:auto;overflow-x:hidden;height:100%;display:flex;justify-content:center;align-items:flex-start}.profile-card[_ngcontent-%COMP%]{background-color:#252525;border-radius:8px;padding:2rem;width:100%;max-width:600px;box-shadow:0 0 10px #00ffcc1a;display:flex;flex-direction:column;align-items:center}.profile-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.profile-picture[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:cover;border-radius:50%;border:3px solid #00ffcc;margin-bottom:1rem}.username[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.2rem;color:#0fc}.email[_ngcontent-%COMP%]{font-size:.95rem;color:#aaa}.profile-info[_ngcontent-%COMP%]{width:100%;margin-bottom:2rem}.profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.user-games[_ngcontent-%COMP%]{width:100%;margin-bottom:2rem}.user-games[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#0fc;margin-bottom:.5rem}.user-games[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:1rem}.user-games[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.3rem 0;padding-left:.5rem;position:relative}.user-games[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\1f3ae";position:absolute;left:-1rem}.upload-section[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.upload-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}.upload-section[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{background-color:#1e1e1e;color:#0fc;border:none;border-radius:4px;padding:.5rem;cursor:pointer}.buttons[_ngcontent-%COMP%]{margin-top:1em;display:flex;gap:5%;justify-content:center}.back-button[_ngcontent-%COMP%]{color:red!important}.buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{all:unset;display:flex;align-items:center;justify-content:center;padding:.5rem 1rem;height:20px;min-width:80px;background-color:#0fc;color:#000;text-decoration:none;border-radius:4px;font-weight:700;transition:background-color .2s ease;cursor:pointer}']})};export{I as Profile};
