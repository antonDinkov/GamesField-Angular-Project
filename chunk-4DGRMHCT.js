import{a as I}from"./chunk-DRBDHNCB.js";import{a as G}from"./chunk-M6DMS4UB.js";import"./chunk-WJ5ZAXFD.js";import{j as w}from"./chunk-P6VS5ELV.js";import{Bb as r,Cb as g,Db as f,Eb as k,Fb as E,Hb as u,La as C,Na as o,Ra as h,Xa as P,cc as U,ia as s,lb as d,mb as p,nb as v,oa as _,ob as b,pa as x,pb as O,qb as l,rb as i,sb as n,tb as M,wb as y,xb as S,zb as m}from"./chunk-ZL2HHINX.js";var T=t=>["/profile",t,"edit"],j=t=>["/profile",t,"delete"];function B(t,a){if(t&1&&(i(0,"li"),r(1),n()),t&2){let e=a.$implicit;o(),g(e)}}function F(t,a){if(t&1&&(i(0,"ul"),b(1,B,2,1,"li",null,v),n()),t&2){let e=m(2);o(),O(e.myGames)}}function D(t,a){t&1&&(i(0,"p"),r(1,"No liked games"),n())}function z(t,a){if(t&1){let e=y();i(0,"div",1)(1,"div",2),M(2,"img",3),i(3,"h1",4),r(4),n(),i(5,"p",5),r(6),n()(),i(7,"div",6)(8,"p")(9,"strong"),r(10,"First Name:"),n(),r(11),n(),i(12,"p")(13,"strong"),r(14,"Last Name:"),n(),r(15),n(),i(16,"p")(17,"strong"),r(18,"Last played game:"),n(),r(19," SquidGame.io"),n()(),i(20,"div",7)(21,"h2"),r(22,"My favorite games:"),n(),d(23,F,3,0,"ul")(24,D,2,0,"p"),n(),i(25,"div",8)(26,"a",9),S("click",function(){_(e);let N=m();return x(N.goBack())}),r(27,"\u2B05 Back"),n(),i(28,"a",10),r(29,"Edit"),n(),i(30,"a",10),r(31,"Delete"),n()()()}if(t&2){let e=m();o(2),l("src",E(e.currentUser.picture),C),o(2),k("",e.currentUser.firstName," ",e.currentUser.lastName),o(2),g(e.currentUser.email),o(5),f(" ",e.currentUser.firstName),o(4),f(" ",e.currentUser.lastName),o(8),p(e.myGames.length>0?23:24),o(5),l("routerLink",u(10,T,e.currentUser._id)),o(2),l("routerLink",u(12,j,e.currentUser._id))}}function V(t,a){t&1&&(i(0,"p"),r(1,"Loading..."),n())}var L=class t{constructor(a){this.location=a}currentUser;getGameService=s(G);authService=s(I);myGames=[];ngOnInit(){this.authService.checkSession().subscribe(a=>{if(this.currentUser=a,localStorage.removeItem("user"),localStorage.setItem("user",JSON.stringify(a)),this.currentUser&&this.currentUser?.myGames.length>0)for(let e of this.currentUser.myGames)this.getGameService.getGameById(e).subscribe(c=>{this.myGames.push(c.post.name)})})}goBack(){this.location.back()}static \u0275fac=function(e){return new(e||t)(h(U))};static \u0275cmp=P({type:t,selectors:[["app-profile"]],decls:3,vars:1,consts:[["id","rightside"],[1,"profile-card"],[1,"profile-header"],["alt","User Profile Picture",1,"profile-picture",3,"src"],[1,"username"],[1,"email"],[1,"profile-info"],[1,"user-games"],[1,"buttons"],["href","javascript:void(0)",1,"back-button",3,"click"],[3,"routerLink"]],template:function(e,c){e&1&&(i(0,"div",0),d(1,z,32,14,"div",1)(2,V,2,0,"p"),n()),e&2&&(o(),p(c.currentUser?1:2))},dependencies:[w],styles:['#rightside[_ngcontent-%COMP%]{margin-top:3%;overflow-y:auto;overflow-x:hidden;height:100%;display:flex;justify-content:center;align-items:flex-start}.profile-card[_ngcontent-%COMP%]{background-color:#252525;border-radius:8px;padding:2rem;width:100%;max-width:600px;box-shadow:0 0 10px #00ffcc1a;display:flex;flex-direction:column;align-items:center}.profile-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.profile-picture[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:cover;border-radius:50%;border:3px solid #00ffcc;margin-bottom:1rem}.username[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.2rem;color:#0fc}.email[_ngcontent-%COMP%]{font-size:.95rem;color:#aaa}.profile-info[_ngcontent-%COMP%]{width:100%;margin-bottom:2rem}.profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.user-games[_ngcontent-%COMP%]{width:100%;margin-bottom:2rem}.user-games[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#0fc;margin-bottom:.5rem}.user-games[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:1rem}.user-games[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.3rem 0;padding-left:.5rem;position:relative}.user-games[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\1f3ae";position:absolute;left:-1rem}.user-games[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+6){display:none}.upload-section[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.upload-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}.upload-section[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{background-color:#1e1e1e;color:#0fc;border:none;border-radius:4px;padding:.5rem;cursor:pointer}.buttons[_ngcontent-%COMP%]{margin-top:1em;display:flex;gap:5%;justify-content:center}.back-button[_ngcontent-%COMP%]{color:red!important}.buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{all:unset;display:flex;align-items:center;justify-content:center;padding:.5rem 1rem;height:20px;min-width:80px;background-color:#0fc;color:#000;text-decoration:none;border-radius:4px;font-weight:700;transition:background-color .2s ease;cursor:pointer}']})};export{L as Profile};
