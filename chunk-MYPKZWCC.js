import{a as j}from"./chunk-SCSKDQJO.js";import{a as k,c as N,d as G,f as w,h as F,j as T,m as D}from"./chunk-O44RIJDE.js";import{$ as a,A as i,Aa as y,C as S,D as I,L as c,M as l,Q as h,R as n,S as o,T as s,X as x,Z as f,_ as d,aa as p,m as M,ma as O,p as P,q as b,ra as E,wa as U}from"./chunk-PQ727SL6.js";var C=class r{constructor(m){this.httpClient=m}apiUrl=y.apiUrl;create(m,t,e,g,u,v,_){return this.httpClient.post(`${this.apiUrl}/create`,{name:m,manufacturer:t,genre:e,image:g,iframeUrl:u,description:v,instructions:_},{withCredentials:!0})}static \u0275fac=function(t){return new(t||r)(P(E))};static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})};function H(r,m){if(r&1&&(n(0,"p",5),a(1),o()),r&2){let t=f();i(),p(t.formService.getTitleErrorMessage(t.form))}}function V(r,m){if(r&1&&(n(0,"p",5),a(1),o()),r&2){let t=f();i(),p(t.formService.getManufacturerErrorMessage(t.form))}}function B(r,m){if(r&1&&(n(0,"p",5),a(1),o()),r&2){let t=f();i(),p(t.formService.getGenreErrorMessage(t.form))}}function A(r,m){if(r&1&&(n(0,"p",5),a(1),o()),r&2){let t=f();i(),p(t.formService.getInstructionsErrorMessage(t.form))}}function $(r,m){if(r&1&&(n(0,"p",5),a(1),o()),r&2){let t=f();i(),p(t.formService.getDescriptionErrorMessage(t.form))}}function q(r,m){if(r&1&&(n(0,"p",5),a(1),o()),r&2){let t=f();i(),p(t.formService.getImageUrlErrorMessage(t.form))}}function J(r,m){if(r&1&&(n(0,"p",5),a(1),o()),r&2){let t=f();i(),p(t.formService.getGameUrlErrorMessage(t.form))}}var L=class r{constructor(m,t){this.location=m;this.formService=t;this.form=t.createCreateForm()}create=b(C);router=b(U);form;onSubmit(){let{title:m,manufacturer:t,genre:e,instructions:g,description:u,imageUrl:v,gameUrl:_}=this.formService.getFormValue(this.form);this.create.create(m,t,e,v,_,u,g).subscribe({next:()=>{this.router.navigate(["/catalog"])},error:R=>{console.error("Create Game Failed:",R),this.formService.markFormTouched(this.form)}})}goBack(){this.location.back()}static \u0275fac=function(t){return new(t||r)(S(O),S(j))};static \u0275cmp=I({type:r,selectors:[["app-create"]],decls:37,vars:22,consts:[["id","rightside"],[1,"create-game-card"],[1,"create-game-form",3,"ngSubmit","formGroup"],["for","title"],["type","text","id","title","formControlName","title"],[1,"error"],["for","manufacturer"],["type","text","id","manufacturer","formControlName","manufacturer"],["for","genre"],["type","text","id","genre","formControlName","genre"],["for","instructions"],["id","instructions","formControlName","instructions","rows","4"],["for","description"],["id","description","formControlName","description","rows","4"],["for","imageUrl"],["type","url","id","imageUrl","formControlName","imageUrl"],["for","gameUrl"],["type","url","id","gameUrl","formControlName","gameUrl"],["type","submit"],[1,"back-button",3,"click"]],template:function(t,e){t&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Create New Game"),o(),n(4,"form",2),x("ngSubmit",function(){return e.onSubmit()}),n(5,"label",3),a(6,"Name"),o(),s(7,"input",4),c(8,H,2,1,"p",5),n(9,"label",6),a(10,"Manufacturer"),o(),s(11,"input",7),c(12,V,2,1,"p",5),n(13,"label",8),a(14,"Genre"),o(),s(15,"input",9),c(16,B,2,1,"p",5),n(17,"label",10),a(18,"Instructions"),o(),s(19,"textarea",11),c(20,A,2,1,"p",5),n(21,"label",12),a(22,"Description"),o(),s(23,"textarea",13),c(24,$,2,1,"p",5),n(25,"label",14),a(26,"Image URL"),o(),s(27,"input",15),c(28,q,2,1,"p",5),n(29,"label",16),a(30,"Game URL"),o(),s(31,"input",17),c(32,J,2,1,"p",5),n(33,"button",18),a(34,"Create"),o(),n(35,"button",19),x("click",function(u){return e.goBack(),u.preventDefault()}),a(36,"Cancel"),o()()()()),t&2&&(i(4),h("formGroup",e.form),i(3),d("input-error",e.formService.isControlInvalid(e.form,"title")),i(),l(e.formService.isControlInvalid(e.form,"title")?8:-1),i(3),d("input-error",e.formService.isControlInvalid(e.form,"manufacturer")),i(),l(e.formService.isControlInvalid(e.form,"manufacturer")?12:-1),i(3),d("input-error",e.formService.isControlInvalid(e.form,"genre")),i(),l(e.formService.isControlInvalid(e.form,"genre")?16:-1),i(3),d("input-error",e.formService.isControlInvalid(e.form,"instructions")),i(),l(e.formService.isControlInvalid(e.form,"instructions")?20:-1),i(3),d("input-error",e.formService.isControlInvalid(e.form,"description")),i(),l(e.formService.isControlInvalid(e.form,"description")?24:-1),i(3),d("input-error",e.formService.isControlInvalid(e.form,"imageUrl")),i(),l(e.formService.isControlInvalid(e.form,"imageUrl")?28:-1),i(3),d("input-error",e.formService.isControlInvalid(e.form,"gameUrl")),i(),l(e.formService.isControlInvalid(e.form,"gameUrl")?32:-1))},dependencies:[D,w,k,N,G,F,T],styles:["#rightside[_ngcontent-%COMP%]{margin-top:3%;overflow-y:auto;overflow-x:hidden;height:100%;display:flex;justify-content:center;align-items:flex-start}.create-game-card[_ngcontent-%COMP%]{background-color:#252525;border-radius:8px;padding:2rem;width:100%;max-width:600px;box-shadow:0 0 10px #00ffcc1a;display:flex;flex-direction:column}.create-game-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#0fc;margin-bottom:2rem}.create-game-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.create-game-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.3rem;font-weight:700;color:#0fc}.create-game-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .create-game-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.7rem;border:none;border-radius:4px;background-color:#1e1e1e;color:#fff;outline:none;font-size:1rem;transition:background-color .2s ease}.create-game-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .create-game-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{background-color:#2a2a2a}.create-game-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.create-game-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:.75rem;background-color:#0fc;color:#000;font-weight:700;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s ease}.back-button[_ngcontent-%COMP%]{color:red!important}.create-game-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#00e6b8}.input-error[_ngcontent-%COMP%]{border-left-color:red!important;border-color:red}.error[_ngcontent-%COMP%]{text-align:left;border-radius:.5em;color:red;padding-top:0;font-weight:700;font-size:.875rem;margin-top:.25rem}"]})};export{L as Create};
