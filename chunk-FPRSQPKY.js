import{a as I}from"./chunk-KCIY4SWP.js";import{a as G}from"./chunk-2I3G3QQV.js";import"./chunk-WJ5ZAXFD.js";import{$ as m,B as h,C as o,E as b,F as v,N as d,O as p,P,Q as y,R as O,S as c,T as i,U as t,V as f,Y as M,Z as S,ba as r,ca as u,da as g,ea as k,fa as E,ha as _,oa as U,s,t as x,u as C,za as w}from"./chunk-NQD7YVRL.js";var T=n=>["/profile",n,"edit"],j=n=>["/profile",n,"delete"];function B(n,a){if(n&1&&(i(0,"li"),r(1),t()),n&2){let e=a.$implicit;o(),u(e)}}function F(n,a){if(n&1&&(i(0,"ul"),y(1,B,2,1,"li",null,P),t()),n&2){let e=m(2);o(),O(e.myGames)}}function D(n,a){n&1&&(i(0,"p"),r(1,"No liked games"),t())}function z(n,a){if(n&1){let e=M();i(0,"div",1)(1,"div",2),f(2,"img",3),i(3,"h1",4),r(4),t(),i(5,"p",5),r(6),t()(),i(7,"div",6)(8,"p")(9,"strong"),r(10,"First Name:"),t(),r(11),t(),i(12,"p")(13,"strong"),r(14,"Last Name:"),t(),r(15),t(),i(16,"p")(17,"strong"),r(18,"Last played game:"),t(),r(19," SquidGame.io"),t()(),i(20,"div",7)(21,"h2"),r(22,"My games"),t(),d(23,F,3,0,"ul")(24,D,2,0,"p"),t(),i(25,"div",8)(26,"label",9),r(27,"Change profile picture:"),t(),f(28,"input",10),t(),i(29,"div",11)(30,"a",12),S("click",function(){x(e);let N=m();return C(N.goBack())}),r(31,"\u2B05 Back"),t(),i(32,"a",13),r(33,"Edit"),t(),i(34,"a",13),r(35,"Delete"),t()()()}if(n&2){let e=m();o(2),c("src",E(e.currentUser.picture),h),o(2),k("",e.currentUser.firstName," ",e.currentUser.lastName),o(2),u(e.currentUser.email),o(5),g(" ",e.currentUser.firstName),o(4),g(" ",e.currentUser.lastName),o(8),p(e.myGames.length>0?23:24),o(9),c("routerLink",_(10,T,e.currentUser._id)),o(2),c("routerLink",_(12,j,e.currentUser._id))}}function V(n,a){n&1&&(i(0,"p"),r(1,"Loading..."),t())}var L=class n{constructor(a){this.location=a}currentUser;getGameService=s(G);authService=s(I);myGames=[];ngOnInit(){this.authService.checkSession().subscribe(a=>{if(this.currentUser=a,localStorage.removeItem("user"),localStorage.setItem("user",JSON.stringify(a)),this.currentUser&&this.currentUser?.myGames.length>0)for(let e of this.currentUser.myGames)this.getGameService.getGameById(e).subscribe(l=>{this.myGames.push(l.post.name)})})}goBack(){this.location.back()}static \u0275fac=function(e){return new(e||n)(b(U))};static \u0275cmp=v({type:n,selectors:[["app-profile"]],decls:3,vars:1,consts:[["id","rightside"],[1,"profile-card"],[1,"profile-header"],["alt","User Profile Picture",1,"profile-picture",3,"src"],[1,"username"],[1,"email"],[1,"profile-info"],[1,"user-games"],[1,"upload-section"],["for","upload"],["type","file","id","upload","accept","image/*"],[1,"buttons"],["href","javascript:void(0)",1,"back-button",3,"click"],[3,"routerLink"]],template:function(e,l){e&1&&(i(0,"div",0),d(1,z,36,14,"div",1)(2,V,2,0,"p"),t()),e&2&&(o(),p(l.currentUser?1:2))},dependencies:[w],styles:['#rightside[_ngcontent-%COMP%]{margin-top:3%;overflow-y:auto;overflow-x:hidden;height:100%;display:flex;justify-content:center;align-items:flex-start}.profile-card[_ngcontent-%COMP%]{background-color:#252525;border-radius:8px;padding:2rem;width:100%;max-width:600px;box-shadow:0 0 10px #00ffcc1a;display:flex;flex-direction:column;align-items:center}.profile-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.profile-picture[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:cover;border-radius:50%;border:3px solid #00ffcc;margin-bottom:1rem}.username[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.2rem;color:#0fc}.email[_ngcontent-%COMP%]{font-size:.95rem;color:#aaa}.profile-info[_ngcontent-%COMP%]{width:100%;margin-bottom:2rem}.profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.user-games[_ngcontent-%COMP%]{width:100%;margin-bottom:2rem}.user-games[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#0fc;margin-bottom:.5rem}.user-games[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:1rem}.user-games[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.3rem 0;padding-left:.5rem;position:relative}.user-games[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\1f3ae";position:absolute;left:-1rem}.upload-section[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.upload-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}.upload-section[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{background-color:#1e1e1e;color:#0fc;border:none;border-radius:4px;padding:.5rem;cursor:pointer}.buttons[_ngcontent-%COMP%]{margin-top:1em;display:flex;gap:5%;justify-content:center}.back-button[_ngcontent-%COMP%]{color:red!important}.buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{all:unset;display:flex;align-items:center;justify-content:center;padding:.5rem 1rem;height:20px;min-width:80px;background-color:#0fc;color:#000;text-decoration:none;border-radius:4px;font-weight:700;transition:background-color .2s ease;cursor:pointer}']})};export{L as Profile};
