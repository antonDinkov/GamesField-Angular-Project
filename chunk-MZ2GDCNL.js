import{a as A,b as B}from"./chunk-BI6PVYRQ.js";import{a as T}from"./chunk-DRBDHNCB.js";import{a as G}from"./chunk-M6DMS4UB.js";import"./chunk-WJ5ZAXFD.js";import{g as D,j as L}from"./chunk-P6VS5ELV.js";import{Bb as n,Cb as l,Ib as v,Jb as M,Kb as P,La as k,Na as r,Ra as y,Xa as E,Z as I,cc as O,gc as w,ia as d,lb as f,mb as x,oa as g,pa as u,qb as m,rb as o,sb as i,tb as S,wa as b,wb as h,xb as _,zb as c}from"./chunk-ZL2HHINX.js";var N=(a,t)=>["/details",a,t,"edit"],z=(a,t)=>["/details",a,t,"delete"];function j(a,t){if(a&1){let e=h();o(0,"button",10),_("click",function(){g(e);let s=c(2);return u(s.onLike())}),n(1,"Like"),i()}}function F(a,t){if(a&1&&(o(0,"a",11),n(1,"Edit"),i(),o(2,"a",11),n(3,"Delete"),i()),a&2){let e=c(2);m("routerLink",v(2,N,e.gameInfo.name,e.gameInfo._id)),r(2),m("routerLink",v(5,z,e.gameInfo.name,e.gameInfo._id))}}function R(a,t){if(a&1){let e=h();o(0,"div",1)(1,"h1",2),n(2),M(3,"uppercase"),i(),o(4,"div",3),S(5,"img",4),o(6,"div",5)(7,"p")(8,"strong"),n(9,"Manufacturer:"),i(),n(10),i(),o(11,"p")(12,"strong"),n(13,"Genre:"),i(),n(14),i(),o(15,"p")(16,"strong"),n(17,"Views:"),i(),n(18),i(),o(19,"p")(20,"strong"),n(21,"Played:"),i(),n(22),i(),o(23,"p")(24,"strong"),n(25,"Likes:"),i(),n(26),i(),o(27,"p")(28,"strong"),n(29,"Instructions:"),i(),n(30),i(),o(31,"p")(32,"strong"),n(33,"Description:"),i(),n(34),i(),o(35,"div",6)(36,"button",7),_("click",function(s){return g(e),c().goBack(),u(s.preventDefault())}),n(37,"Go Back"),i(),o(38,"app-play-btn",8),_("played",function(s){g(e);let C=c();return u(C.onPushButton(s))}),i(),f(39,j,2,0,"button",9),f(40,F,4,8),i()()()()}if(a&2){let e=c();r(2),l(P(3,12,e.gameInfo.name)),r(3),m("src",e.gameInfo.image,k),r(5),l(e.gameInfo.manufacturer),r(4),l(e.gameInfo.genre),r(4),l(e.gameInfo.views),r(4),l(e.played()),r(4),l(e.gameInfo.likes.length),r(4),l(e.gameInfo.instructions),r(4),l(e.gameInfo.description),r(4),m("game",e.gameInfo),r(),x(e.isLoggedIn()&&e.isAuthor()===!1&&e.hasInteracted===!1?39:-1),r(),x(e.isLoggedIn()&&e.isAuthor()===!0?40:-1)}}function U(a,t){a&1&&(o(0,"p"),n(1,"LOADING..."),i())}var V=class a{constructor(t){this.location=t}isLoggedIn=d(T).isLoggedIn;gameService=d(G);route=d(D);id="";gameInfo;isAuthor=b(!1);username;hasInteracted;interactionCount;interactorsNames;played=b(0);likeService=d(A);likes=this.likeService.like$();ngOnInit(){this.route.paramMap.pipe(I(t=>(this.id=t.get("id"),this.likeService.interactWithTheGame(this.id,"views").subscribe(),this.gameService.getGameById(this.id)))).subscribe(t=>{this.gameInfo=t.post,this.isAuthor.set(t.isAuthor),this.username=t.username,this.hasInteracted=t.hasInteracted,this.interactionCount=t.interactionCount,this.interactorsNames=t.interactorsNames,this.played.set(t.post.played)})}onLike(){this.likeService.interactWithTheGame(this.id,"likes").subscribe(t=>{this.gameInfo=t,this.hasInteracted=!0})}onPushButton(t){this.played.set(t)}goBack(){this.location.back()}static \u0275fac=function(e){return new(e||a)(y(O))};static \u0275cmp=E({type:a,selectors:[["app-details"]],decls:3,vars:1,consts:[["id","rigthside"],[1,"container"],[1,"game-title"],[1,"game-details"],["alt","no image",1,"game-image",3,"src"],[1,"info"],[1,"buttons"],[1,"back-button",3,"click"],[1,"play-button",3,"played","game"],[1,"play-button"],[1,"play-button",3,"click"],[1,"play-button",3,"routerLink"]],template:function(e,p){e&1&&(o(0,"div",0),f(1,R,41,14,"div",1)(2,U,2,0,"p"),i()),e&2&&(r(),x(p.gameInfo?1:2))},dependencies:[B,L,w],styles:[".container[_ngcontent-%COMP%]{height:100%;background-color:#252525;margin-top:1.5em;padding:30px;border-radius:12px;box-shadow:0 0 20px #0000001a}.game-title[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:20px;text-align:center;color:#91ffce}.game-details[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:30px;flex-wrap:wrap}.game-image[_ngcontent-%COMP%]{max-width:400px;width:100%;border-radius:12px}.info[_ngcontent-%COMP%]{flex:1}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:1.1rem}.info[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] > strong[_ngcontent-%COMP%]{color:#91ffce}.play-button[_ngcontent-%COMP%]{margin-top:20px;padding:12px 25px;font-size:1.2rem;background-color:#06d6a0;border:none;color:#fff;border-radius:8px;cursor:pointer;transition:background-color .3s ease}.back-button[_ngcontent-%COMP%]{color:red!important;margin-top:20px;padding:12px 25px;font-size:1.2rem;background-color:#06d6a0;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s ease}.play-button[_ngcontent-%COMP%]:hover{background-color:#04b88a}.buttons[_ngcontent-%COMP%]{display:flex;gap:5%;justify-content:center}.buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:flex;align-items:center}"]})};export{V as Details};
