import{a as y}from"./chunk-ETAA3KFV.js";import{a as x,c as h,d as P,f as M,h as w,i as E,j as O,k as R,m as N}from"./chunk-5KMBVLPF.js";import{h as b}from"./chunk-FVPBVVEB.js";import{a as I}from"./chunk-TANXK24A.js";import{Da as S,Sa as m,T as g,Ta as l,Xa as v,Ya as i,Za as n,_a as d,db as _,fb as c,gb as f,hb as a,ib as p,sa as t}from"./chunk-JLINGDUW.js";function G(o,s){if(o&1&&(i(0,"p",5),a(1),n()),o&2){let r=c();t(),p(r.formService.getFirstnameErrorMessage(r.form))}}function T(o,s){if(o&1&&(i(0,"p"),a(1),n()),o&2){let r=c();t(),p(r.formService.getLastnameErrorMessage(r.form))}}function q(o,s){if(o&1&&(i(0,"p"),a(1),n()),o&2){let r=c();t(),p(r.formService.getEmailErrorMessage(r.form))}}function D(o,s){if(o&1&&(i(0,"p"),a(1),n()),o&2){let r=c();t(),p(r.formService.getPasswordErrorMessage(r.form,!0))}}function V(o,s){if(o&1&&(i(0,"p"),a(1),n()),o&2){let r=c();t(),p(r.formService.getRePasswordErrorMessage(r.form))}}var F=class o{formService=g(y);authService=g(I);router=g(b);form;constructor(){this.form=this.formService.createRegisterForm()}onSubmit(){if(!this.formService.isFormInvalid(this.form)){let{firstname:s,lastname:r,email:e,password:C,repass:k}=this.formService.getRegisterFormValue(this.form);this.authService.register(s,r,e,C,k).subscribe({next:u=>{console.log("Registered user:",u),this.router.navigate(["/"])},error:u=>{console.error("Registration failed:",u),this.formService.markFormTouched(this.form)}})}}static \u0275fac=function(r){return new(r||o)};static \u0275cmp=S({type:o,selectors:[["app-register"]],decls:28,vars:17,consts:[["id","rightside"],[1,"register-card"],[1,"register-form",3,"ngSubmit","formGroup"],["for","first-name"],["type","text","id","first-name","formControlName","firstname","required",""],[1,"error"],["for","last-name"],["type","text","id","last-name","formControlName","lastname","required",""],["for","email"],["type","email","id","email","formControlName","email","required",""],["formGroupName","passwords",1,"form"],["for","password"],["type","password","id","password","formControlName","password","required",""],["for","repass"],["type","password","id","repass","formControlName","repass","required",""],["type","submit",3,"disabled"]],template:function(r,e){r&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),a(3,"REGISTER FORM"),n(),i(4,"form",2),_("ngSubmit",function(){return e.onSubmit()}),i(5,"label",3),a(6,"First Name"),n(),d(7,"input",4),m(8,G,2,1,"p",5),i(9,"label",6),a(10,"Last Name"),n(),d(11,"input",7),m(12,T,2,1,"p"),i(13,"label",8),a(14,"Email"),n(),d(15,"input",9),m(16,q,2,1,"p"),i(17,"div",10)(18,"label",11),a(19,"Password"),n(),d(20,"input",12),m(21,D,2,1,"p"),i(22,"label",13),a(23,"Repeat Password"),n(),d(24,"input",14),m(25,V,2,1,"p"),n(),i(26,"button",15),a(27,"Register"),n()()()()),r&2&&(t(4),v("formGroup",e.form),t(3),f("input-error",e.formService.isControlInvalid(e.form,"firstname")),t(),l(e.formService.isControlInvalid(e.form,"firstname")?8:-1),t(3),f("input-error",e.formService.isControlInvalid(e.form,"lastname")),t(),l(e.formService.isControlInvalid(e.form,"lastname")?12:-1),t(3),f("input-error",e.formService.isControlInvalid(e.form,"email")),t(),l(e.formService.isControlInvalid(e.form,"email")?16:-1),t(4),f("input-error",e.formService.isNestedControlInvalid(e.form,"passwords","password")),t(),l(e.formService.isNestedControlInvalid(e.form,"passwords","password")?21:-1),t(3),f("input-error",e.formService.isNestedControlInvalid(e.form,"passwords","repass")),t(),l(e.formService.isNestedControlInvalid(e.form,"passwords","repass")?25:-1),t(),v("disabled",e.formService.isFormInvalid(e.form)))},dependencies:[N,M,x,h,P,R,w,O,E],styles:["#rightside[_ngcontent-%COMP%]{margin-top:3%;overflow-y:auto;overflow-x:hidden;height:100%;display:flex;justify-content:center;align-items:flex-start}.register-card[_ngcontent-%COMP%]{background-color:#252525;border-radius:8px;padding:2rem;width:100%;max-width:400px;box-shadow:0 0 10px #00ffcc1a;display:flex;flex-direction:column}.register-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#0fc;margin-bottom:2rem}.register-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.register-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.3rem;font-weight:700;color:#0fc}.register-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.7rem;border:none;border-radius:4px;background-color:#1e1e1e;color:#fff;outline:none;font-size:1rem;transition:background-color .2s ease}.register-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#2a2a2a}.register-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:.75rem;background-color:#0fc;color:#000;font-weight:700;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s ease}.register-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#00e6b8}.register-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#6c757d;cursor:not-allowed;transform:none}.input-error[_ngcontent-%COMP%]{border-left-color:red!important;border-color:red}.error[_ngcontent-%COMP%]{text-align:left;border-radius:.5em;color:red;padding-top:0;font-weight:700;font-size:.875rem;margin-top:.25rem}.text-center[_ngcontent-%COMP%]{text-align:center;margin:0}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]})};export{F as Register};
