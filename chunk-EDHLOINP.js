import{a as F}from"./chunk-R256JDRC.js";import{a as x,c as M,d as P,f as w,h as k,j as O,k as L,m as y}from"./chunk-PWTO733V.js";import{a as S}from"./chunk-ICSTC6YS.js";import"./chunk-WJ5ZAXFD.js";import{$ as d,F as r,Fa as h,I as v,K as b,T as c,U as s,Y as C,Z as t,_ as n,da as f,fa as g,ga as p,ha as a,ia as u,t as l,ua as _}from"./chunk-TP6AUV3H.js";function D(i,m){if(i&1&&(t(0,"p",5),a(1),n()),i&2){let o=g();r(),u(o.formService.getEmailErrorMessage(o.form))}}function G(i,m){if(i&1&&(t(0,"p",5),a(1),n()),i&2){let o=g();r(),u(o.formService.getPasswordErrorMessage(o.form,!0))}}var E=class i{constructor(m){this.location=m;this.form=this.formService.createLoginForm()}formService=l(F);authService=l(S);router=l(h);form;onSubmit(){if(!this.formService.isFormInvalid(this.form)){let{email:m,password:o}=this.formService.getLoginFormValue(this.form);this.authService.login(m,o).subscribe({next:e=>{this.router.navigate(["/"])},error:e=>{console.error("Login failed:",e),this.formService.markFormTouched(this.form)}})}}goBack(){this.location.back()}static \u0275fac=function(o){return new(o||i)(v(_))};static \u0275cmp=b({type:i,selectors:[["app-login"]],decls:17,vars:7,consts:[["id","rightside"],[1,"login-card"],[1,"login-form",3,"ngSubmit","formGroup"],["for","email"],["type","email","id","email","formControlName","email","required",""],[1,"error"],["for","password"],["type","password","id","password","formControlName","password","required",""],["type","submit"],[1,"back-button",3,"click"]],template:function(o,e){o&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Login Form"),n(),t(4,"form",2),f("ngSubmit",function(){return e.onSubmit()}),t(5,"label",3),a(6,"Email"),n(),d(7,"input",4),c(8,D,2,1,"p",5),t(9,"label",6),a(10,"Password"),n(),d(11,"input",7),c(12,G,2,1,"p",5),t(13,"button",8),a(14,"Login"),n(),t(15,"button",9),f("click",function(N){return e.goBack(),N.preventDefault()}),a(16,"Cancel"),n()()()()),o&2&&(r(4),C("formGroup",e.form),r(3),p("input-error",e.formService.isControlInvalid(e.form,"email")),r(),s(e.formService.isControlInvalid(e.form,"email")?8:-1),r(3),p("input-error",e.formService.isControlInvalid(e.form,"password")),r(),s(e.formService.isControlInvalid(e.form,"password")?12:-1))},dependencies:[y,w,x,M,P,L,k,O],styles:["#rightside[_ngcontent-%COMP%]{margin-top:3%;overflow-y:auto;overflow-x:hidden;height:100%;display:flex;justify-content:center;align-items:flex-start}.login-card[_ngcontent-%COMP%]{background-color:#252525;border-radius:8px;padding:2rem;width:100%;max-width:400px;box-shadow:0 0 10px #00ffcc1a;display:flex;flex-direction:column}.login-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#0fc;margin-bottom:2rem}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.3rem;font-weight:700;color:#0fc}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.7rem;border:none;border-radius:4px;background-color:#1e1e1e;color:#fff;outline:none;font-size:1rem;transition:background-color .2s ease}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#2a2a2a}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:.75rem;background-color:#0fc;color:#000;font-weight:700;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s ease}.back-button[_ngcontent-%COMP%]{color:red!important}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#00e6b8}"]})};export{E as Login};
